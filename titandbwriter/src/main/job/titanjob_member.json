{
    "job": {
        "setting": {
            "speed": {
                "byte":10485760
            },
            "errorLimit": {
                "record": 0,
                "percentage": 0.02
            }
        },
        "content": [
            {
                "reader": {
                    "name": "oraclereader",
                    "parameter": {
                        "username": "liutao",
                        "password": "liutao",
                        "column": [
                            "memberid", "name", "sex", "idtype", "idnumber", "mobile", "email", "passport_id"
                        ],
                        "where": "operatedate > to_date('2016-01-01', 'YYYY-MM-DD')",
                        "connection": [
                            {
                                "table": [
                                    "mis_member_info"
                                ],
                                "jdbcUrl": [
                                    "jdbc:oracle:thin:@192.168.99.214:1521:ikangrac"
                                ]
                            }
                        ]
                    }
                },
                "writer": {
                    "name": "titandbwriter",
                    "parameter": {
                        "titandbConf": "conf/titan-berkeleyje.properties",
                        "column": [
                            {
                                "name": "memberId",
                                "type": "long"
                            },
                            {
                                "name": "name",
                                "type": "string"
                            },
                            {
                                "name": "gender",
                                "type": "integer"
                            },
                            {
                                "name": "idType",
                                "type": "integer"
                            },
                            {
                                "name": "idNumber",
                                "type": "string"
                            },
                            {
                                "name": "mobile",
                                "type": "string"
                            },
                            {
                                "name": "email",
                                "type": "string"
                            },
                            {
                                "name": "memberGroup",
                                "type": "long"
                            }
                        ],
                        "graph": {
                            "vertices": [
                                {
                                    "label": "member",
                                    "properties": [
                                        {
                                            "name": "name",
                                            "column": "name",
                                            "index": "composite",
                                            "required": true
                                        },
                                        {
                                            "name": "gender",
                                            "column": "gender"
                                        }
                                    ],
                                    "edges": [
                                        {
                                            "label": "hasMobile",
                                            "vertex": "mobile"
                                        },
                                        {
                                            "label": "hasEmail",
                                            "vertex": "email"
                                        },
                                        {
                                            "label": "hasMemberId",
                                            "vertex": "memberId"
                                        },
                                        {
                                            "label": "hasIdNumber",
                                            "vertex": "idNumber"
                                        },
                                        {
                                            "label": "hasMemberGroup",
                                            "vertex": "memberGroup"
                                        }
                                    ]
                                },
                                {
                                    "label": "email",
                                    "properties": [
                                        {
                                            "name": "email",
                                            "column": "email",
                                            "index": "unique",
                                            "required": true,
                                            "pattern": "^\\w+@\\w+\\.\\w{2,}$"
                                        }
                                    ]
                                },
                                {
                                    "label": "mobile",
                                    "properties": [
                                        {
                                            "name": "mobile",
                                            "column": "mobile",
                                            "index": "unique",
                                            "required": true,
                                            "pattern": "^1\\d{10}$"
                                        }
                                    ]
                                },
                                {
                                    "label": "memberId",
                                    "properties": [
                                        {
                                            "name": "memberId",
                                            "column": "memberId",
                                            "index": "unique",
                                            "required": true
                                        }
                                    ]
                                },
                                {
                                    "label": "idNumber",
                                    "properties": [
                                        {
                                            "name": "idType",
                                            "column": "idType"
                                        },
                                        {
                                            "name": "idNumber",
                                            "column": "idNumber",
                                            "index": "unique",
                                            "required": true
                                        }
                                    ]
                                },
                                {
                                    "label": "memberGroup",
                                    "properties": [
                                        {
                                            "name": "memberGroup",
                                            "column": "memberGroup",
                                            "index": "unique",
                                            "required": true
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                }
            }
        ]
    }
}
