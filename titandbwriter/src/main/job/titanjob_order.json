{
    "job": {
        "setting": {
            "speed": {
                "byte":10485760
            },
            "errorLimit": {
                "record": 0,
                "percentage": 0.02
            }
        },
        "content": [
            {
                "reader": {
                    "name": "oraclereader",
                    "parameter": {
                        "username": "liutao",
                        "password": "liutao",
                        "column": [
                            "id", "projectid", "cardid", "memberid", "username", "relation",
                            "exam_user", "exam_user_sex", "contacttel", "cer_type", "exam_user_idcard"
                        ],
                        "where": "creator_time > to_date('2016-01-01', 'YYYY-MM-DD')",
                        "connection": [
                            {
                                "table": [
                                    "mis_exam_record"
                                ],
                                "jdbcUrl": [
                                    "jdbc:oracle:thin:@192.168.99.214:1521:ikangrac"
                                ]
                            }
                        ]
                    }
                },
                "writer": {
                    "name": "titandbwriter",
                    "parameter": {
                        "titandbConf": "conf/titan-berkeleyje.properties",
                        "column": [
                            {
                                "name": "orderId",
                                "type": "long"
                            },
                            {
                                "name": "projectId",
                                "type": "string"
                            },
                            {
                                "name": "cardno",
                                "type": "string"
                            },
                            {
                                "name": "memberId",
                                "type": "long"
                            },
                            {
                                "name": "username",
                                "type": "string"
                            },
                            {
                                "name": "relation",
                                "type": "string"
                            },
                            {
                                "name": "examUser",
                                "type": "string"
                            },
                            {
                                "name": "examUserGender",
                                "type": "string"
                            },
                            {
                                "name": "examUserMobile",
                                "type": "string"
                            },
                            {
                                "name": "examUserIdType",
                                "type": "integer"
                            },
                            {
                                "name": "examUserIdNumber",
                                "type": "string"
                            }
                        ],
                        "graph": {
                            "vertices": [
                                {
                                    "label": "order",
                                    "properties": [
                                        {
                                            "name": "orderId",
                                            "column": "orderId",
                                            "index": "unique",
                                            "required": true
                                        }
                                    ],
                                    "edges": [
                                        {
                                            "label": "hasCardno",
                                            "vertex": "cardno"
                                        },
                                        {
                                            "label": "hasMemberId",
                                            "vertex": "memberId"
                                        },
                                        {
                                            "label": "hasExamUser",
                                            "vertex": "examUser"
                                        }
                                    ]
                                },
                                {
                                    "label": "cardno",
                                    "properties": [
                                        {
                                            "name": "cardno",
                                            "column": "cardno",
                                            "index": "unique",
                                            "required": true
                                        }
                                    ]
                                },
                                {
                                    "label": "memberId",
                                    "properties": [
                                        {
                                            "name": "memberId",
                                            "column": "memberId",
                                            "index": "unique",
                                            "required": true
                                        }
                                    ]
                                },
                                {
                                    "label": "examUser",
                                    "properties": [
                                        {
                                            "name": "examUser",
                                            "column": "examUser",
                                            "required": true
                                        },
                                        {
                                            "name": "examUserGender",
                                            "column": "examUserGender"
                                        }
                                    ],
                                    "edges": [
                                        {
                                            "label": "hasMobile",
                                            "vertex": "mobile"
                                        },
                                        {
                                            "label": "hasIdCard",
                                            "vertex": "IdCardNumber"
                                        }
                                    ]
                                },
                                {
                                    "label": "mobile",
                                    "properties": [
                                        {
                                            "name": "mobile",
                                            "column": "examUserMobile",
                                            "required": true,
                                            "pattern": "^1\\d{10}$"
                                        }
                                    ]
                                },
                                {
                                    "label": "idNumber",
                                    "properties": [
                                        {
                                            "name": "idType",
                                            "column": "examUserIdType"
                                        },
                                        {
                                            "name": "idNumber",
                                            "column": "examUserIdNumber",
                                            "index": "unique",
                                            "required": true
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                }
            }
        ]
    }
}
